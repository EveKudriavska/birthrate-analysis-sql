---
title: "Bellabeat Case Study"
author: "Eve Kudriavska"
date: "2025-03-26"
output:
  html_document: default
  pdf_document: default
---

# Bellabeat Case Study #
##  Introduction ##

```{r, echo=FALSE, out.width = "50%", fig.align = "center"}
knitr::include_graphics("Ivy-Bellabeat-Snow-White-01.png")
```
Bellabeat is a high-tech manufacturer of health-focused
products for women such as wellness devices which record sleep, stress, daily activities, water intake, menstrual cycle, ovulation, etc. Products are utilized through the application based on a membership program. Membership program provides guidance on nutrition, activity, sleep, health and beauty, and mindfulness through the App based on their lifestyle and goals. The company was founded in 2013. 

## Ask ##

### Main stakeholders ###

Urška Sršen: Bellabeat’s cofounder and Chief Creative Ocer
Sando Mur: Mathematician and Bellabeat’s cofounder; 
key member of the Bellabeat executive team. 

###  Business task ###

Comprehensive analysis of the usage of smart non- Bellabeat wellness devices by customers. Identify trends in the smart devices usage, which can be related to Bellabeat customers, and use the findings in building Bellabeat market strategy. 

###  Deliverables ###

1. A clear summary of the business task
2. A description of all data sources used
3. Documentation of any cleaning or manipulation of data
4. A summary of data analysis
5. Supporting visualizations and key findings 
6. Top high-level content recommendations based on the analysis.

##  Prepare ##

### Data licensing, security, privacy and accessibility ###
The data we use is FitBit Fitness Tracker Data (CC0: Public Domain, dataset made available through Mobius (Owner)).

All participants gave their consent to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users’ habits.

### The source ###

**Data source**: <https://zenodo.org/records/53894#.X9oeh3Uzaao>. 

**Description**:
This dataset was generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016.
The dataset consists of 29 files in csv format. 

###  Data bias ###

The current data sample is quite small and might not be representative of the whole population. 

### Limitations ###

There is no personal data such as  age, ethnicity, lifestyle, occupation, health conditions, geographical locations included in the sample. 

### Issues ###

The data was collected in 2016, therefore it might be outdated. 

## Prepare ##

### Tools ###

For the initial dataset browsing I use Google sheets to quickly explore data. For the cleaning, preparing and analyzing data I will use R language in online RStudio via posit.cloud. The final report will be presented in RMarkdown file. 

### Exploration of data ###

I have checked the dataset in Google sheets and identified four main types of observations recorded by a tracker: sleep, calories, weight and steps. We will be looking into corresponding data tables, intensities table and activity_merged table for the further insights. I identified some issues with Date and Time, as well as zero values, which might scew the analysis. We will clean the dataset in the Studio.

### Further exploration and cleaning ###

Loading the packages. 

```{r echo=FALSE} 
library(tidyverse)
library(lubridate)
library(dplyr)
library(ggplot2)
library(tidyr)
library(readr)
```
Loading the files.

```{r}
activity <- read.csv("dailyActivity_merged.csv")
calories <- read.csv("hourlyCalories_merged.csv")
intensities <- read.csv("hourlyIntensities_merged.csv")
steps <- read.csv("hourlySteps_merged.csv")
sleep <- read.csv("sleepDay_merged.csv")
weight <- read.csv("weightLogInfo_merged.csv")
```

Getting the summary of the files to check for the initial issues and get some insights.

```{r}
head(activity)
```
Issues with the date format are identified. The date format is not consisted throughout the tables. For each table date and time will be separated and formatted consistently.

## Process ##

### Formatting Date and Time ###

Formatting the date/time to ""%m/%d/%Y"" in the activity table. 

```{r}
activity$ActivityDate = as.POSIXct(activity$ActivityDate, format = "%m/%d/%Y", tz = Sys.timezone())
activity$date <- format(activity$ActivityDate, format = "%m/%d/%y")
```
Checking results for activity table.

```{r}
head(activity)
```
Checking the calories table.

``` {r}
head(calories)
```
Date and time need to be split and formatted.

```{r}
calories$ActivityHour = as.POSIXct(calories$ActivityHour, format = "%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
calories$time <- format(calories$ActivityHour, format = "%H:%M:%S")
calories$date <- format(calories$ActivityHour, format = "%m/%d/%y")
```
 
Checking the Steps table.
``` {r}
head(steps)
```
 Activity Hour column should be split in Date and Time and formatted. 
 
```{r}
steps$ActivityHour = as.POSIXct(steps$ActivityHour, format = "%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
 steps$time <- format(steps$ActivityHour, format = "%H:%M:%S")
 steps$date <- format(steps$ActivityHour, format = "%m/%d/%y")
```
Checking date/time issues the sleep table.

```{r}
head(sleep)
```
SleepDay should be split into Date and Time columns, and formatted accordingly. 

```{r}
sleep$SleepDay=as.POSIXct(sleep$SleepDay, format = "%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
sleep$date <- format(sleep$SleepDay, format = "%m/%d/%y")
sleep$time <- format(sleep$SleepDay, format = "%H:%M:%S")
```

Checking date/time issues in the intensities table.

```{r}
head(intensities)
```
Activity hour should to be split in Date and Time, formatted.

```{r}
intensities$ActivityHour=as.POSIXct(intensities$ActivityHour, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
intensities$time <- format(intensities$ActivityHour, format = "%H:%M:%S")
intensities$date <- format(intensities$ActivityHour, format = "%m/%d/%y")
```
Checking time/date issues in the weight table.

```{r}
head(weight)
```
Date column needs to be split in Time and Date, formatted.

```{r}
weight$Date=as.POSIXct(weight$Date, format="%m/%d/%Y %I:%M:%S %p", tz=Sys.timezone())
weight$time <- format(weight$Date, format = "%H:%M:%S")
weight$date <- format(weight$Date, format = "%m/%d/%y")
```

### Removing zero values and blanks ###

We keep cleaning data. Lets get rid of blanks and zero values in some columns of the tables. Those values can influence summary of the tables, and further scew the analysis.

```{r}
head(activity)
```
Cleaning the activity table from zero and blanks in TotalSteps column.

```{r}
activity_cleaned <- activity %>%
  filter(!is.na(activity$TotalSteps) & activity$TotalSteps != 0)
```

## Analyse ##

Exploring cleaned dataset, identifying trends and insights.

### Relationship between features ###

Exploring how many Unique ID use the trackers,and how they use the tracker.

```{r}
n_distinct(activity$Id)
n_distinct(calories$Id)
n_distinct(steps$Id)
n_distinct(intensities$Id)
n_distinct(sleep$Id)
n_distinct(weight$Id)
```
The results are 33, 33, 33, 33, 24,8. Therefore we can conclude that we have 33 unique IDs for activity, steps, calories and intensities. All these observations are made automatically by a tracker. 24 unique IDs use sleep feature, which is also recorded automatically while users are wearing the device. And we know that 8 Unique Ids uses weight log feature, which in recorded manually by a user. 

Checking amount of observation days per each table.

```{r}
n_distinct(activity$date)
n_distinct(calories$date)
n_distinct(steps$date)
n_distinct(intensities$date)
n_distinct(sleep$date)
n_distinct(weight$date)
```
Each table has 31 days of observations, which proves the consistency of the record.

Therefore, we can conclude that the dataset contains observations of 33 users over 31 days.

## Visuals ##

Lets create some visualisations to compare the usage of sleep, steps and weight features.

```{r}
install.packages("ggvenn")
library(ggplot2)
library(ggvenn)
library(grid)
```
Creating Id list.

```{r}
id_list <- list(
  weight = weight$Id,
  steps = steps$Id,
  sleep = sleep$Id
)
```
Creating  a Venn Diagram
```{r}
ggvenn(id_list)
```

The Venn diagram revealed that 33 Ids use step count feature, 8 out 33 also use weight monitor feature, 24 out of 33 uses sleep monitoring feature. Only 6 out of 33 uses all three feature. 
Venn diagram shows that 2/33 uses both steps and weight functions, 18/33 uses. 
We already can identify some trends emerging. The most popular feature is step count, which is automatically recorded. Sleep monitor is used less, but is also recorded automatically. 

Only 24 users wear their monitor at night. And, we can clearly see that only 8 users monitor their weight, which is recorded manually.
We might speculate that the reason for this is the way weight is logged in. It might not be easy or user friendly. Here is a possible gap in the market, which Bellabeat might want to explore.

Let's create a bar chart to further analyse the relationship between these features. 

```{r}
weight_count <- n_distinct(weight$Id)
steps_count <- n_distinct(steps$Id)
sleep_count <- n_distinct(sleep$Id)
```
Creating a data frame for visualization
```{r}
usage_summary <- data.frame(
  Activity = c("weight", "steps", "sleep"),
  UserCount = c(weight_count, steps_count, sleep_count)
)
```
Create a bar chart to compare how many Ids are using sleep, steps and weight functions
```{r}
ggplot(usage_summary, aes(x = Activity, y = UserCount)) +
  geom_bar(stat = "identity", fill = "darkgreen") +
  labs(
    title = "Wellness Tracker Function Usage",
    x = "Activity",
    y = "Number of Users"
  ) +
  theme_minimal()
```

The bar chat shows that steps count feature is the most popular, and all 33 Ids are using it. The sleep feature is the second popular. And weight is the last maybe due to the manual or unfriendly imput of data.

Checking further summary of the tables.

```{r}
activity_cleaned %>%  
  select(TotalSteps,
         TotalDistance,
         SedentaryMinutes, Calories) %>%
  summary()
```
From the summary of the activity_cleaned we can divide all users into 3 groups, 1st group (lightly active) with average steps of 4923/day, 2nd group (fairly active) with average steps of 8053/day, 3rd group (very active) with average steps of 11092/day. The average amount of steps for all users is 8053. The average sedentary minutes is 995.8 which equates to almost 16 hours per day. 


```{r}
activity_cleaned %>%
  select(VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes) %>%
  summary()
```
```{r}
sleep %>%
  select(TotalSleepRecords, TotalMinutesAsleep, TotalTimeInBed) %>%
  summary()
summary(steps)
view(steps)
```
Checking Total time asleep vs Total time in bed for the insights. We can see that average total time asleep is 433 minutes or 7 hours 13 minutes. Therefore, since we know the correlation between time in bed and sleeping time, creating a 'Time to go to bed' reminder function might be useful to increase user's sleeping time.

```{r echo=FALSE}
ggplot(data=sleep, aes(x=TotalMinutesAsleep, y=TotalTimeInBed)) + geom_point(color='darkblue') + geom_smooth() +
  labs(title="Total Time in Bed vs Total Time Asleep")
```
We can see a positive correlations between Total time in bed vs Total time asleep.

###  Merging data ###

Lets merge sleep and activity by ID and Date to create comprehensice visualisations.

```{r}
merged_data <- merge(sleep, activity_cleaned, by=c('Id', 'date'))
head(merged_data)
```
 Checking insights for steps 
```{r}
head(steps)
```
Organising steps table, removing blanks, grouping steps by time. 
```{r}
 steps_new <- steps %>%
  select(StepTotal,time)%>%
   group_by(time) %>%
   drop_na() %>%
   summarise(mean_total_steps = mean(StepTotal))
```
Creating histogram to see mean_steps during the day. 
```{r}
ggplot(data=steps_new, aes(x = time, y = mean_total_steps)) + geom_histogram(stat = "identity", fill='darkblue') +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title="Average Total Steps vs. Time")
```
Let's take a look at intensities table to cross check intensities level vs time of the day. We will create a bar chart to illustrate this relationship.

```{r}
intensities_new <- intensities %>%
  group_by(time) %>%
  drop_na() %>%
  summarise(mean_total_int = mean(TotalIntensity))
```
```{r}
ggplot(data=intensities_new, aes(x=time, y=mean_total_int)) + geom_histogram(stat = "identity", fill='darkblue') +
  theme(axis.text.x = element_text(angle = 90)) +
  labs(title="Average Total Intensity vs. Time")
```
If we examine two bar charts we can conclude that they mainly overlap, peaking between 5pm and 8 pm, with a significant increase during the lunch hours. It might mean that most of the users are employed and have relatively sedentary jobs like office jobs, considering the amount of sedentary hours. The users tend to do more steps during lunch and after 5 pm, which further confirms our theory regarding their uccupations and lifestyle. 

Let's explore quality of sleep our users are getting. Is there a correlation between sedendary time and sleep duration?

Creating a line chart to explore correlation between Sedentary Minutes and Total minutes asleep

```{r}
ggplot(data=merged_data, aes(x=TotalMinutesAsleep, y=SedentaryMinutes)) + 
  geom_point(color='darkblue') + geom_smooth() +
  labs(title="Minutes Asleep vs. Sedentary Minutes")
```
From the "Minutes Asleep vs Sedentary Minutes" we can clearly see that there is a negative correlation between sedentary time and sleeping time.
This insight might be used in the marketing strategy to target people who want improve their sleep by reducing sedentary time. Particularly people who spend a lot of time in front of the computer or desk and are not aware of the impact it has on their sleep.


Lets look into relationship between Calories and Total steps. 
```{r}
ggplot(data=merged_data, aes(x=TotalSteps, y=Calories)) + 
  geom_point(color='darkblue') + geom_smooth() +
  labs(title="Total Steps vs. Calories")
```
We can see some positive correlation, meaning the more steps are taken the more calories are burnt. Again that might be an incentive for people who would like to watch their weight, improve sleep and reduce sedentary time. We already know that there is a gap in the market for weight watching feature. 

## Summary ##

We have analysed dataset containing observations of 33 participants over duration of 31 days. We have looked at the daily activity, intensities, sleep, steps, calories tables to get comprehensive insights and to understand trends of the device usage. 

### Key findings ###

* We have concluded that there are three main features that consumers use the wellness tracker to monitor: daily steps, sleep and weight( calories are calculated automatically with total steps count). However, even though the device is able to monitor all three main activities, the features are not used equally.

* We know that all 33 users monitor steps, only 24 monitor sleep, and just 8 users monitor their weight. These reveals a possible gap in the market and missed opportunity to fully engage a consumer into utilizing the device as only 18.2 % of participants use these three available functions.

* We have established that average sedentary time is about 16 hours a day, which is 2/3 of a day. 

* The most active times of the day are lunch hours and time between 5 pm and 8 pm. This suggests that our participants are likely to have sitting job, office jobs etc. This insight might help to develop daily activity routine suggestions for employed people who have sedentary jobs but generating a reminders and encouraging them complete their streaks and reach steps targets, etc. 

* We have established that there is a negative correlation between amount if sedentary minutes and time asleep. This suggests that the more sedentary minutes a person spends a day the less sleep they get.

* We have established a positive relationship between time spent in bed and total time asleep. This insight suggest that users might benefit from a device feature to remind them to go to bed.

* We have established that the more steps users take a day the more calories they burn, which is highly predictable and logical.


## Recommendations ##

 Based on this particular data set analysis, I can recommend following for the marketing campaign:
 
* Focus on a holistic marketing approach, which delivers a comprehensive message about users holistic well being, e.g how sleep quality is connected to daily steps or daily activity, the connection between calories burning and weight, etc. 

* Optimize the usability of weight input feature, for example utilizing AI voice recognition technology for the weight input. Make weight input process as easy as possible, including reminder feature to record the weight daily.

* Focus on developing a daily activity program for people with sedentary 9-5 jobs, which contains activity streaks, reminders to take a break and have a walk/ stretch, reminder for water intakes, etc.  

* Optimize the device design to provide the maximum comfort during the night to encourage more customers to monitor their sleep.

* Develop a feature for daily challenges such as daily steps count to increase calories burning, improve sleep and overall health. 

* Generate weekly/monthly activity report, that focus on the positive outcomes. For example, the report focus on improvements in sleep patterns, the increase of daily steps, or reaching target weight. 


